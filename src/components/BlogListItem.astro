---
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;

function formatDate(date: Date): string {
  return date.toLocaleDateString('ja-JP', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
  });
}
---

<article class="group h-full">
  <a
    href={`/blog/${post.slug}`}
    class="block h-full rounded-xl p-6 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl"
    style="background-color: var(--color-surface-elevated); border: 1px solid var(--color-border); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);"
  >
    <!-- Date Badge -->
    <time
      class="inline-block rounded-full px-3 py-1 text-xs font-semibold mb-4"
      style="background: var(--gradient-primary); color: white;"
      datetime={post.data.date.toISOString()}
    >
      {formatDate(post.data.date)}
    </time>

    <!-- Title -->
    <h3
      class="text-xl font-bold mb-3 transition-colors group-hover:gradient-text"
      style="color: var(--color-text-primary); letter-spacing: -0.025em; line-height: 1.3;"
    >
      {post.data.title}
    </h3>

    <!-- Description -->
    {post.data.description && (
      <p
        class="text-sm line-clamp-3"
        style="color: var(--color-text-secondary); line-height: 1.6;"
      >
        {post.data.description}
      </p>
    )}
  </a>
</article>
